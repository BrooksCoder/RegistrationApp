<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RegistrationApp - Complete Project Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 8px;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .project-info {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 30px 0;
            margin-top: -20px;
        }

        .info-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .info-card h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .info-card p {
            color: #666;
            font-size: 0.95em;
        }

        nav {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 40px;
            border: 1px solid #e9ecef;
        }

        nav h3 {
            color: #333;
            margin-bottom: 15px;
        }

        nav ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        nav a {
            color: #667eea;
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        nav a:hover {
            background-color: #e9ecef;
        }

        h2 {
            color: #667eea;
            margin-top: 50px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        h3 {
            color: #764ba2;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        h4 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        p {
            margin-bottom: 15px;
            line-height: 1.8;
        }

        code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #d63384;
        }

        pre {
            background-color: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-size: 0.9em;
            line-height: 1.5;
        }

        pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        table th {
            background-color: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }

        table tr:hover {
            background-color: #f8f9fa;
        }

        table tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        ul, ol {
            margin: 20px 0 20px 30px;
        }

        li {
            margin-bottom: 8px;
        }

        .section {
            margin-bottom: 40px;
        }

        .command-box {
            background-color: #f0f7ff;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .success {
            background-color: #d4edda;
            border-left-color: #28a745;
            color: #155724;
        }

        .warning {
            background-color: #fff3cd;
            border-left-color: #ffc107;
            color: #856404;
        }

        .error {
            background-color: #f8d7da;
            border-left-color: #dc3545;
            color: #721c24;
        }

        .info {
            background-color: #d1ecf1;
            border-left-color: #17a2b8;
            color: #0c5460;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .architecture-box {
            background-color: #f8f9fa;
            padding: 20px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            white-space: pre;
            overflow-x: auto;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .badge-success {
            background-color: #d4edda;
            color: #155724;
        }

        .badge-warning {
            background-color: #fff3cd;
            color: #856404;
        }

        .badge-danger {
            background-color: #f8d7da;
            color: #721c24;
        }

        .badge-info {
            background-color: #d1ecf1;
            color: #0c5460;
        }

        .cost-summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 8px;
            margin: 30px 0;
        }

        .cost-summary h3 {
            color: white;
            margin-bottom: 20px;
        }

        .cost-item {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .cost-item:last-child {
            border-bottom: none;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 20px;
            padding-top: 20px;
        }

        footer {
            margin-top: 60px;
            padding: 20px;
            border-top: 1px solid #e9ecef;
            text-align: center;
            color: #666;
        }

        .toc {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .toc h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .toc ul {
            margin: 0;
            padding-left: 20px;
        }

        .toc li {
            margin-bottom: 5px;
        }

        .toc a {
            color: #667eea;
            text-decoration: none;
        }

        .toc a:hover {
            text-decoration: underline;
        }

        .endpoint {
            background-color: #f0f7ff;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #d63384;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .project-info {
                grid-template-columns: repeat(2, 1fr);
            }

            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }

            nav ul {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“‹ RegistrationApp - Complete Project Documentation</h1>
            <p>Full-Stack Web Application with Angular Frontend, .NET Core Backend, and Azure Deployment</p>
        </header>

        <div class="project-info">
            <div class="info-card">
                <h3>Project Status</h3>
                <p><span class="badge badge-success">âœ… Production Deployed</span></p>
            </div>
            <div class="info-card">
                <h3>Start Date</h3>
                <p>February 2026</p>
            </div>
            <div class="info-card">
                <h3>Monthly Cost</h3>
                <p>$25/month (7+ months remaining)</p>
            </div>
            <div class="info-card">
                <h3>Repository</h3>
                <p><a href="https://github.com/BrooksCoder/RegistrationApp" target="_blank">BrooksCoder/RegistrationApp</a></p>
            </div>
        </div>

        <nav>
            <h3>ğŸ“‘ Quick Navigation</h3>
            <ul>
                <li><a href="#overview">Project Overview</a></li>
                <li><a href="#architecture">Architecture</a></li>
                <li><a href="#frontend">Frontend Setup</a></li>
                <li><a href="#backend">Backend Setup</a></li>
                <li><a href="#database">Database Setup</a></li>
                <li><a href="#local">Local Deployment</a></li>
                <li><a href="#azure">Azure Deployment</a></li>
                <li><a href="#jenkins">Jenkins CI/CD</a></li>
                <li><a href="#commands">Commands Reference</a></li>
                <li><a href="#troubleshooting">Troubleshooting</a></li>
            </ul>
        </nav>

        <section id="overview" class="section">
            <h2>ğŸ“– Project Overview</h2>
            <p><strong>RegistrationApp</strong> is a comprehensive full-stack web application built with modern technologies:</p>

            <h3>Technology Stack</h3>
            <table>
                <tr>
                    <th>Layer</th>
                    <th>Technology</th>
                    <th>Version</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td>Frontend</td>
                    <td>Angular</td>
                    <td>17</td>
                    <td>User Interface</td>
                </tr>
                <tr>
                    <td>Backend</td>
                    <td>.NET Core</td>
                    <td>8</td>
                    <td>REST API & Business Logic</td>
                </tr>
                <tr>
                    <td>Database</td>
                    <td>SQL Server</td>
                    <td>Latest</td>
                    <td>Data Persistence</td>
                </tr>
                <tr>
                    <td>Cloud</td>
                    <td>Microsoft Azure</td>
                    <td>-</td>
                    <td>Deployment & Hosting</td>
                </tr>
                <tr>
                    <td>CI/CD</td>
                    <td>Jenkins</td>
                    <td>LTS</td>
                    <td>Automated Deployment</td>
                </tr>
            </table>

            <h3>Live Endpoints</h3>
            <div class="endpoint">Frontend: http://registration-frontend-prod.centralindia.azurecontainer.io/</div>
            <div class="endpoint">Backend API: http://registration-api-prod.centralindia.azurecontainer.io/api/registrations</div>
            <div class="endpoint">Database: regsql2807.database.windows.net</div>

            <h3>Key Features</h3>
            <ul>
                <li>âœ… User registration management (Create, Read, Update, Delete)</li>
                <li>âœ… Responsive Angular UI</li>
                <li>âœ… RESTful .NET Core API</li>
                <li>âœ… Azure SQL Database</li>
                <li>âœ… Docker containerization</li>
                <li>âœ… Automated CI/CD with Jenkins</li>
                <li>âœ… Azure Container Registry integration</li>
                <li>âœ… Cost-optimized deployment ($25/month)</li>
            </ul>
        </section>

        <section id="architecture" class="section">
            <h2>ğŸ—ï¸ Architecture</h2>
            <div class="architecture-box">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CLIENT BROWSER                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FRONTEND (Angular 17)                          â”‚
â”‚  Container: registration-frontend-prod                      â”‚
â”‚  Port: 80 â†’ 4200                                            â”‚
â”‚  URL: registration-frontend-prod.centralindia...            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BACKEND (.NET Core 8 API)                      â”‚
â”‚  Container: registration-api-prod                           â”‚
â”‚  Port: 80 â†’ 5000                                            â”‚
â”‚  URL: registration-api-prod.centralindia...                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         AZURE SQL DATABASE                                  â”‚
â”‚  Server: regsql2807.database.windows.net                    â”‚
â”‚  Database: RegistrationAppDb                                â”‚
â”‚  Tier: Serverless, Basic                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>

            <h3>Deployment Topology</h3>
            <p>The application follows a three-tier architecture:</p>
            <ul>
                <li><strong>Presentation Tier:</strong> Angular 17 SPA served via nginx in Docker container on Azure Container Instances</li>
                <li><strong>Application Tier:</strong> .NET Core 8 REST API running in Docker container on Azure Container Instances</li>
                <li><strong>Data Tier:</strong> Azure SQL Database (Serverless, Basic tier)</li>
            </ul>
        </section>

        <section id="frontend" class="section">
            <h2>ğŸ¨ Frontend Setup (Angular 17)</h2>
            <h3>Project Creation Commands</h3>
            <pre><code># Create Angular project
ng new RegistrationApp-Frontend --routing --style=css

# Navigate to project
cd RegistrationApp-Frontend

# Install dependencies
npm install

# Generate components
ng generate component components/registration-form
ng generate component components/registration-list
ng generate component components/registration-detail

# Generate service
ng generate service services/registration

# Build for production
ng build --configuration production

# Serve development
ng serve</code></pre>

            <h3>Project Structure</h3>
            <pre><code>RegistrationApp-Frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ registration-form/
â”‚   â”‚   â”‚   â”œâ”€â”€ registration-list/
â”‚   â”‚   â”‚   â””â”€â”€ registration-detail/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ registration.service.ts
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â””â”€â”€ registration.model.ts
â”‚   â”‚   â”œâ”€â”€ app.component.ts
â”‚   â”‚   â””â”€â”€ app.module.ts
â”‚   â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ styles.css
â”‚   â””â”€â”€ main.ts
â”œâ”€â”€ angular.json
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json</code></pre>

            <h3>Key Components</h3>
            <h4>registration.model.ts</h4>
            <pre><code>export interface Registration {
  id: number;
  firstName: string;
  lastName: string;
  email: string;
  phone: string;
  registeredDate: Date;
}</code></pre>

            <h4>registration.service.ts</h4>
            <pre><code>import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';
import { Registration } from '../models/registration.model';

@Injectable({
  providedIn: 'root'
})
export class RegistrationService {
  private apiUrl = 'http://localhost:5000/api/registrations';

  constructor(private http: HttpClient) {}

  getRegistrations(): Observable&lt;Registration[]&gt; {
    return this.http.get&lt;Registration[]&gt;(this.apiUrl);
  }

  getRegistration(id: number): Observable&lt;Registration&gt; {
    return this.http.get&lt;Registration&gt;(`${this.apiUrl}/${id}`);
  }

  createRegistration(registration: Registration): Observable&lt;Registration&gt; {
    return this.http.post&lt;Registration&gt;(this.apiUrl, registration);
  }

  updateRegistration(id: number, registration: Registration): Observable&lt;void&gt; {
    return this.http.put&lt;void&gt;(`${this.apiUrl}/${id}`, registration);
  }

  deleteRegistration(id: number): Observable&lt;void&gt; {
    return this.http.delete&lt;void&gt;(`${this.apiUrl}/${id}`);
  }
}</code></pre>

            <h4>Dockerfile for Frontend</h4>
            <pre><code># Stage 1: Build
FROM node:20-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build -- --configuration production

# Stage 2: Runtime
FROM nginx:alpine
COPY --from=builder /app/dist/registration-app-frontend /usr/share/nginx/html
COPY nginx.conf /etc/nginx/nginx.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]</code></pre>
        </section>

        <section id="backend" class="section">
            <h2>âš™ï¸ Backend Setup (.NET Core 8)</h2>
            <h3>Project Creation Commands</h3>
            <pre><code># Create .NET solution
dotnet new sln -n RegistrationApp

# Create class library for models
dotnet new classlib -n RegistrationApp.Models
dotnet sln RegistrationApp.sln add RegistrationApp.Models/RegistrationApp.Models.csproj

# Create class library for data access
dotnet new classlib -n RegistrationApp.Data
dotnet sln RegistrationApp.sln add RegistrationApp.Data/RegistrationApp.Data.csproj

# Create API project
dotnet new webapi -n RegistrationApp.API
dotnet sln RegistrationApp.sln add RegistrationApp.API/RegistrationApp.API.csproj

# Add project references
cd RegistrationApp.API
dotnet add reference ../RegistrationApp.Models/RegistrationApp.Models.csproj
dotnet add reference ../RegistrationApp.Data/RegistrationApp.Data.csproj

# Add NuGet packages
dotnet add package Microsoft.EntityFrameworkCore.SqlServer
dotnet add package Microsoft.EntityFrameworkCore.Tools
dotnet add package Microsoft.AspNetCore.Cors

# Install dependencies
dotnet restore

# Create database migration
dotnet ef migrations add InitialCreate -p ../RegistrationApp.Data -s .
dotnet ef database update -p ../RegistrationApp.Data -s .

# Build
dotnet build

# Run
dotnet run

# Publish for production
dotnet publish -c Release -o ./publish</code></pre>

            <h3>Backend Structure</h3>
            <pre><code>RegistrationApp/
â”œâ”€â”€ RegistrationApp.Models/
â”‚   â”œâ”€â”€ Registration.cs
â”‚   â””â”€â”€ RegistrationDto.cs
â”œâ”€â”€ RegistrationApp.Data/
â”‚   â”œâ”€â”€ RegistrationContext.cs
â”‚   â”œâ”€â”€ Repositories/
â”‚   â”‚   â”œâ”€â”€ IRegistrationRepository.cs
â”‚   â”‚   â””â”€â”€ RegistrationRepository.cs
â”‚   â””â”€â”€ Migrations/
â”œâ”€â”€ RegistrationApp.API/
â”‚   â”œâ”€â”€ Controllers/
â”‚   â”‚   â””â”€â”€ RegistrationsController.cs
â”‚   â”œâ”€â”€ Program.cs
â”‚   â”œâ”€â”€ appsettings.json
â”‚   â””â”€â”€ appsettings.Development.json
â””â”€â”€ RegistrationApp.sln</code></pre>

            <h3>Key Classes</h3>
            <h4>Registration.cs (Model)</h4>
            <pre><code>using System;
using System.ComponentModel.DataAnnotations;

namespace RegistrationApp.Models
{
    public class Registration
    {
        [Key]
        public int Id { get; set; }

        [Required]
        [StringLength(50)]
        public string FirstName { get; set; }

        [Required]
        [StringLength(50)]
        public string LastName { get; set; }

        [Required]
        [EmailAddress]
        public string Email { get; set; }

        [Phone]
        public string Phone { get; set; }

        public DateTime RegisteredDate { get; set; } = DateTime.UtcNow;
    }
}</code></pre>

            <h4>RegistrationContext.cs (DbContext)</h4>
            <pre><code>using Microsoft.EntityFrameworkCore;
using RegistrationApp.Models;

namespace RegistrationApp.Data
{
    public class RegistrationContext : DbContext
    {
        public RegistrationContext(DbContextOptions&lt;RegistrationContext&gt; options)
            : base(options)
        {
        }

        public DbSet&lt;Registration&gt; Registrations { get; set; }

        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            base.OnModelCreating(modelBuilder);
            
            modelBuilder.Entity&lt;Registration&gt;()
                .HasIndex(r =&gt; r.Email)
                .IsUnique();
        }
    }
}</code></pre>

            <h4>RegistrationsController.cs</h4>
            <pre><code>[ApiController]
[Route("api/[controller]")]
public class RegistrationsController : ControllerBase
{
    private readonly IRegistrationRepository _repository;

    public RegistrationsController(IRegistrationRepository repository)
    {
        _repository = repository;
    }

    [HttpGet]
    public async Task&lt;ActionResult&lt;IEnumerable&lt;Registration&gt;&gt;&gt; GetRegistrations()
    {
        var registrations = await _repository.GetAllAsync();
        return Ok(registrations);
    }

    [HttpGet("{id}")]
    public async Task&lt;ActionResult&lt;Registration&gt;&gt; GetRegistration(int id)
    {
        var registration = await _repository.GetByIdAsync(id);
        if (registration == null)
            return NotFound();
        return Ok(registration);
    }

    [HttpPost]
    public async Task&lt;ActionResult&lt;Registration&gt;&gt; CreateRegistration(Registration registration)
    {
        await _repository.AddAsync(registration);
        await _repository.SaveChangesAsync();
        return CreatedAtAction(nameof(GetRegistration), new { id = registration.Id }, registration);
    }

    [HttpPut("{id}")]
    public async Task&lt;IActionResult&gt; UpdateRegistration(int id, Registration registration)
    {
        var existing = await _repository.GetByIdAsync(id);
        if (existing == null)
            return NotFound();

        existing.FirstName = registration.FirstName;
        existing.LastName = registration.LastName;
        existing.Email = registration.Email;
        existing.Phone = registration.Phone;

        _repository.Update(existing);
        await _repository.SaveChangesAsync();
        return NoContent();
    }

    [HttpDelete("{id}")]
    public async Task&lt;IActionResult&gt; DeleteRegistration(int id)
    {
        var registration = await _repository.GetByIdAsync(id);
        if (registration == null)
            return NotFound();

        _repository.Delete(registration);
        await _repository.SaveChangesAsync();
        return NoContent();
    }
}</code></pre>

            <h4>Program.cs (Startup Configuration)</h4>
            <pre><code>using Microsoft.EntityFrameworkCore;
using RegistrationApp.Data;

var builder = WebApplication.CreateBuilder(args);

// Add services
builder.Services.AddControllers();
builder.Services.AddCors(options =>
{
    options.AddPolicy("AllowAll", builder =>
    {
        builder.AllowAnyOrigin()
               .AllowAnyMethod()
               .AllowAnyHeader();
    });
});

// Add Entity Framework
var connectionString = builder.Configuration.GetConnectionString("DefaultConnection");
builder.Services.AddDbContext&lt;RegistrationContext&gt;(options =>
    options.UseSqlServer(connectionString));

// Add repositories
builder.Services.AddScoped&lt;IRegistrationRepository, RegistrationRepository&gt;();

// Add Swagger
builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();

var app = builder.Build();

// Middleware
if (app.Environment.IsDevelopment())
{
    app.UseSwagger();
    app.UseSwaggerUI();
}

app.UseHttpsRedirection();
app.UseCors("AllowAll");
app.UseAuthorization();
app.MapControllers();

app.Run();</code></pre>

            <h4>appsettings.json</h4>
            <pre><code>{
  "ConnectionStrings": {
    "DefaultConnection": "Server=.;Database=RegistrationAppDb;Integrated Security=true;TrustServerCertificate=true;"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information"
    }
  },
  "AllowedHosts": "*"
}</code></pre>

            <h4>Dockerfile for Backend</h4>
            <pre><code>FROM mcr.microsoft.com/dotnet/sdk:8.0 AS builder
WORKDIR /src
COPY ["RegistrationApp.API/RegistrationApp.API.csproj", "RegistrationApp.API/"]
COPY ["RegistrationApp.Models/RegistrationApp.Models.csproj", "RegistrationApp.Models/"]
COPY ["RegistrationApp.Data/RegistrationApp.Data.csproj", "RegistrationApp.Data/"]
RUN dotnet restore "RegistrationApp.API/RegistrationApp.API.csproj"
COPY . .
RUN dotnet build "RegistrationApp.API/RegistrationApp.API.csproj" -c Release -o /app/build
RUN dotnet publish "RegistrationApp.API/RegistrationApp.API.csproj" -c Release -o /app/publish

FROM mcr.microsoft.com/dotnet/aspnet:8.0
WORKDIR /app
COPY --from=builder /app/publish .
EXPOSE 80
ENV ASPNETCORE_URLS=http://+:80
ENTRYPOINT ["dotnet", "RegistrationApp.API.dll"]</code></pre>
        </section>

        <section id="database" class="section">
            <h2>ğŸ—„ï¸ Database Setup (Azure SQL)</h2>
            <h3>Azure SQL Database Creation</h3>
            <pre><code># Set variables
$RESOURCE_GROUP = "rg-registration-app"
$SQL_SERVER = "regsql2807"
$SQL_DATABASE = "RegistrationAppDb"
$LOCATION = "centralindia"
$ADMIN_USER = "sqladmin"
$ADMIN_PASSWORD = "YourSecurePassword123!"

# Create resource group
az group create --name $RESOURCE_GROUP --location $LOCATION

# Create SQL Server
az sql server create `
  --resource-group $RESOURCE_GROUP `
  --name $SQL_SERVER `
  --location $LOCATION `
  --admin-user $ADMIN_USER `
  --admin-password $ADMIN_PASSWORD

# Create database (Serverless, Basic tier)
az sql db create `
  --resource-group $RESOURCE_GROUP `
  --server $SQL_SERVER `
  --name $SQL_DATABASE `
  --edition GeneralPurpose `
  --family Gen5 `
  --capacity 2 `
  --compute-model Serverless

# Configure firewall to allow Azure services
az sql server firewall-rule create `
  --resource-group $RESOURCE_GROUP `
  --server $SQL_SERVER `
  --name "AllowAzureServices" `
  --start-ip-address 0.0.0.0 `
  --end-ip-address 0.0.0.0

# Configure firewall for your IP
az sql server firewall-rule create `
  --resource-group $RESOURCE_GROUP `
  --server $SQL_SERVER `
  --name "AllowMyIP" `
  --start-ip-address YOUR_IP `
  --end-ip-address YOUR_IP</code></pre>

            <h3>Database Schema</h3>
            <pre><code>CREATE TABLE [Registrations] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Phone] nvarchar(max) NULL,
    [RegisteredDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Registrations] PRIMARY KEY ([Id])
);

CREATE UNIQUE INDEX [IX_Registrations_Email] ON [Registrations] ([Email]);</code></pre>

            <h3>Connection String</h3>
            <div class="command-box">Server=tcp:regsql2807.database.windows.net,1433;Initial Catalog=RegistrationAppDb;Persist Security Info=False;User ID=sqladmin;Password=YourSecurePassword123!;MultipleActiveResultSets=False;Encrypt=True;TrustServerCertificate=False;Connection Timeout=30;</div>
        </section>

        <section id="local" class="section">
            <h2>ğŸ³ Local Deployment with Docker Compose</h2>
            <h3>docker-compose.yml</h3>
            <pre><code>version: '3.8'

services:
  # SQL Server Database
  sqlserver:
    image: mcr.microsoft.com/mssql/server:2022-latest
    environment:
      SA_PASSWORD: "YourPassword123!"
      ACCEPT_EULA: "Y"
      MSSQL_PID: "Express"
    ports:
      - "1433:1433"
    volumes:
      - sqlserver_data:/var/opt/mssql
    networks:
      - registration-network

  # Backend API (.NET Core)
  backend:
    build:
      context: ./RegistrationApp.API
      dockerfile: Dockerfile
    environment:
      ConnectionStrings__DefaultConnection: "Server=sqlserver;Database=RegistrationAppDb;User ID=sa;Password=YourPassword123!;TrustServerCertificate=true;"
      ASPNETCORE_ENVIRONMENT: "Production"
      ASPNETCORE_URLS: "http://+:80"
    ports:
      - "5000:80"
    depends_on:
      - sqlserver
    networks:
      - registration-network

  # Frontend (Angular)
  frontend:
    build:
      context: ./RegistrationApp-Frontend
      dockerfile: Dockerfile
    environment:
      API_URL: "http://backend:80"
    ports:
      - "4200:80"
    depends_on:
      - backend
    networks:
      - registration-network

volumes:
  sqlserver_data:

networks:
  registration-network:
    driver: bridge</code></pre>

            <h3>Docker Compose Commands</h3>
            <pre><code># Build all services
docker-compose build

# Start all services
docker-compose up -d

# View logs
docker-compose logs -f

# Stop all services
docker-compose down

# Stop and remove volumes
docker-compose down -v

# Rebuild and start
docker-compose up -d --build

# View running services
docker-compose ps</code></pre>

            <h3>Verify Local Deployment</h3>
            <div class="command-box">
                <strong>Frontend:</strong> http://localhost:4200<br>
                <strong>Backend API:</strong> http://localhost:5000/api/registrations<br>
                <strong>Database:</strong> localhost:1433
            </div>
        </section>

        <section id="azure" class="section">
            <h2>â˜ï¸ Azure Deployment</h2>
            <h3>Step 1: Create Azure Resources</h3>
            <pre><code># Login to Azure
az login

# Set subscription
az account set --subscription "YourSubscriptionID"

# Create resource group
az group create --name rg-registration-app --location centralindia

# Create Container Registry
az acr create `
  --resource-group rg-registration-app `
  --name registrationappacr `
  --sku Basic `
  --location centralindia</code></pre>

            <h3>Step 2: Build and Push Docker Images</h3>
            <pre><code># Set variables
$ACR_LOGINSERVER = "registrationappacr.azurecr.io"
$IMAGE_TAG = "latest"

# Login to ACR
az acr login --name registrationappacr

# Build backend image
docker build -t $ACR_LOGINSERVER/registration-api:$IMAGE_TAG `
  -f RegistrationApp.API/Dockerfile .

# Build frontend image
docker build -t $ACR_LOGINSERVER/registration-frontend:$IMAGE_TAG `
  -f RegistrationApp-Frontend/Dockerfile RegistrationApp-Frontend/

# Push to ACR
docker push $ACR_LOGINSERVER/registration-api:$IMAGE_TAG
docker push $ACR_LOGINSERVER/registration-frontend:$IMAGE_TAG</code></pre>

            <h3>Step 3: Deploy to Azure Container Instances</h3>
            <pre><code># Get ACR credentials
$ACR_USERNAME = (az acr credential show -n registrationappacr --query username -o tsv)
$ACR_PASSWORD = (az acr credential show -n registrationappacr --query "passwords[0].value" -o tsv)

# Deploy Backend
az container create `
  --resource-group rg-registration-app `
  --name registration-api-prod `
  --image registrationappacr.azurecr.io/registration-api:latest `
  --registry-login-server registrationappacr.azurecr.io `
  --registry-username $ACR_USERNAME `
  --registry-password $ACR_PASSWORD `
  --cpu 1 `
  --memory 1 `
  --ports 80 `
  --dns-name-label registration-api-prod `
  --location centralindia `
  --environment-variables `
    "ConnectionStrings__DefaultConnection=Server=tcp:regsql2807.database.windows.net,1433;Initial Catalog=RegistrationAppDb;User ID=sqladmin;Password=YOUR_PASSWORD;Encrypt=true;Connection Timeout=30;" `
    "ASPNETCORE_ENVIRONMENT=Production"

# Deploy Frontend
az container create `
  --resource-group rg-registration-app `
  --name registration-frontend-prod `
  --image registrationappacr.azurecr.io/registration-frontend:latest `
  --registry-login-server registrationappacr.azurecr.io `
  --registry-username $ACR_USERNAME `
  --registry-password $ACR_PASSWORD `
  --cpu 1 `
  --memory 1 `
  --ports 80 `
  --dns-name-label registration-frontend-prod `
  --location centralindia `
  --environment-variables `
    "API_URL=http://registration-api-prod.centralindia.azurecontainer.io/"</code></pre>
        </section>

        <section id="jenkins" class="section">
            <h2>ğŸ”„ CI/CD Pipeline with Jenkins</h2>
            <h3>Step 1: Start Jenkins</h3>
            <pre><code># Start Jenkins in Docker
docker run -d `
  -p 8080:8080 `
  -p 50000:50000 `
  -v jenkins_home:/var/jenkins_home `
  -v /var/run/docker.sock:/var/run/docker.sock `
  --user root `
  --name jenkins `
  jenkins/jenkins:lts

# Wait for initialization
Start-Sleep -Seconds 30

# Install Docker in Jenkins
docker exec jenkins bash -c "apt-get update && apt-get install -y docker.io curl git"

# Install Azure CLI
docker exec jenkins bash -c "curl -sL https://aka.ms/InstallAzureCLIDeb | bash"

# Get initial admin password
docker exec jenkins cat /var/jenkins_home/secrets/initialAdminPassword</code></pre>

            <h3>Step 2: Create Azure Service Principal</h3>
            <pre><code># Create service principal
az ad sp create-for-rbac `
  --name "JenkinsDeployment" `
  --role contributor `
  --scopes /subscriptions/$(az account show --query id -o tsv) `
  --sdk-auth</code></pre>

            <h3>Step 3: Add Credentials to Jenkins</h3>
            <p>Go to <strong>http://localhost:8080</strong> and follow these steps:</p>
            <ol>
                <li>Click <strong>Manage Jenkins</strong> â†’ <strong>Manage Credentials</strong> â†’ <strong>System</strong> â†’ <strong>Global credentials</strong></li>
                <li>Click <strong>+ Add Credentials</strong></li>
                <li>Repeat 4 times with these credentials:</li>
            </ol>

            <table>
                <tr>
                    <th>ID</th>
                    <th>Kind</th>
                    <th>Value</th>
                </tr>
                <tr>
                    <td>AZURE_CLIENT_ID</td>
                    <td>Secret text</td>
                    <td>&lt;clientId from service principal&gt;</td>
                </tr>
                <tr>
                    <td>AZURE_CLIENT_SECRET</td>
                    <td>Secret text</td>
                    <td>&lt;clientSecret from service principal&gt;</td>
                </tr>
                <tr>
                    <td>AZURE_TENANT_ID</td>
                    <td>Secret text</td>
                    <td>&lt;tenantId from service principal&gt;</td>
                </tr>
                <tr>
                    <td>AZURE_SUBSCRIPTION_ID</td>
                    <td>Secret text</td>
                    <td>&lt;subscriptionId from service principal&gt;</td>
                </tr>
            </table>

            <h3>Step 4: Create Pipeline Job</h3>
            <ol>
                <li>Go to <strong>http://localhost:8080</strong></li>
                <li>Click <strong>+ New Item</strong></li>
                <li>Enter name: <strong>RegistrationApp-Deploy</strong></li>
                <li>Select <strong>Pipeline</strong></li>
                <li>Click <strong>OK</strong></li>
                <li>In Pipeline section, select <strong>Pipeline script</strong></li>
                <li>Copy and paste Jenkinsfile.declarative content</li>
                <li>Click <strong>Save</strong></li>
            </ol>

            <h3>Step 5: Run Pipeline</h3>
            <p>Click <strong>Build Now</strong> and monitor the console output for all stages:</p>
            <div class="command-box success">
                âœ… Clone Repository<br>
                âœ… Azure Login<br>
                âœ… Build Backend<br>
                âœ… Build Frontend<br>
                âœ… Login to ACR<br>
                âœ… Push Backend Image<br>
                âœ… Push Frontend Image<br>
                âœ… Deploy Backend<br>
                âœ… Deploy Frontend
            </div>
        </section>

        <section id="commands" class="section">
            <h2>ğŸ“ Commands Reference</h2>

            <h3>Frontend (Angular)</h3>
            <pre><code># Install dependencies
npm install

# Start development server
npm start

# Build for production
npm run build

# Run tests
npm test

# Lint code
npm run lint</code></pre>

            <h3>Backend (.NET Core)</h3>
            <pre><code># Install/restore dependencies
dotnet restore

# Run development server
dotnet run

# Build for production
dotnet build -c Release

# Publish for deployment
dotnet publish -c Release -o ./publish

# Create migration
dotnet ef migrations add MigrationName

# Update database
dotnet ef database update

# Run tests
dotnet test</code></pre>

            <h3>Docker Commands</h3>
            <pre><code># Build image
docker build -t image-name:tag -f Dockerfile .

# Run container
docker run -d -p 8080:80 --name container-name image-name:tag

# View containers
docker ps -a

# View logs
docker logs -f container-name

# Stop container
docker stop container-name

# Remove container
docker rm container-name

# Push to registry
docker push registry.azurecr.io/image-name:tag</code></pre>

            <h3>Azure CLI Commands</h3>
            <pre><code># Login
az login

# Create resource group
az group create --name rg-name --location centralindia

# Create container
az container create --resource-group rg-name --name container-name --image image-name --ports 80

# View resources
az resource list --resource-group rg-name

# Delete resource group
az group delete --name rg-name</code></pre>

            <h3>Git Commands</h3>
            <pre><code># Clone repository
git clone https://github.com/BrooksCoder/RegistrationApp.git

# Add files
git add .

# Commit changes
git commit -m "Commit message"

# Push to remote
git push origin main

# View status
git status</code></pre>
        </section>

        <section id="troubleshooting" class="section">
            <h2>ğŸ”§ Troubleshooting</h2>

            <h3>Jenkins Issues</h3>
            <div class="command-box warning">
                <strong>Problem:</strong> Azure CLI not found<br>
                <strong>Solution:</strong>
                <pre><code>docker exec jenkins bash -c "curl -sL https://aka.ms/InstallAzureCLIDeb | bash"</code></pre>
            </div>

            <div class="command-box warning">
                <strong>Problem:</strong> Docker socket permission denied<br>
                <strong>Solution:</strong>
                <pre><code>docker run --user root -v /var/run/docker.sock:/var/run/docker.sock ...</code></pre>
            </div>

            <div class="command-box warning">
                <strong>Problem:</strong> Credentials not found<br>
                <strong>Solution:</strong>
                <pre><code># Verify credentials in Jenkins UI
# Manage Jenkins â†’ Manage Credentials â†’ System â†’ Global credentials</code></pre>
            </div>

            <h3>Backend Issues</h3>
            <div class="command-box warning">
                <strong>Problem:</strong> Database connection failed<br>
                <strong>Solution:</strong>
                <pre><code>az sql server firewall-rule create --resource-group rg-registration-app --server regsql2807 --name AllowAll --start-ip-address 0.0.0.0 --end-ip-address 255.255.255.255</code></pre>
            </div>

            <h3>Frontend Issues</h3>
            <div class="command-box warning">
                <strong>Problem:</strong> Cannot connect to API<br>
                <strong>Solution:</strong>
                <pre><code># Update API_URL in environment variables
# Check registration.service.ts baseUrl</code></pre>
            </div>

            <h3>Docker Issues</h3>
            <div class="command-box warning">
                <strong>Problem:</strong> Container exits immediately<br>
                <strong>Solution:</strong>
                <pre><code>docker logs container-name
docker build --no-cache -t image-name .</code></pre>
            </div>
        </section>

        <section class="section">
            <h2>ğŸ’° Cost Analysis</h2>
            <div class="cost-summary">
                <h3>Monthly Cost Breakdown (Azure)</h3>
                <div class="cost-item">
                    <span>Container Instances (Backend) - 1 CPU, 1GB RAM</span>
                    <span>$12</span>
                </div>
                <div class="cost-item">
                    <span>Container Instances (Frontend) - 1 CPU, 1GB RAM</span>
                    <span>$5</span>
                </div>
                <div class="cost-item">
                    <span>SQL Database - Serverless, Basic</span>
                    <span>$5</span>
                </div>
                <div class="cost-item">
                    <span>Container Registry - Basic</span>
                    <span>$3</span>
                </div>
                <div class="cost-item">
                    <span>Total Monthly Cost</span>
                    <span>$25</span>
                </div>
            </div>
            <p style="margin-top: 20px;"><strong>7-Month Projection:</strong> $175 (within $180 budget)</p>
            <p><strong>Remaining Budget:</strong> $5 for contingencies and testing</p>
        </section>

        <section class="section">
            <h2>âœ… Security Best Practices</h2>
            <ul>
                <li><strong>Secrets Management:</strong> Use Azure Key Vault for sensitive data</li>
                <li><strong>Never commit secrets:</strong> Add secrets to .gitignore</li>
                <li><strong>Use Jenkins credentials:</strong> Store secrets in Jenkins credential manager</li>
                <li><strong>Database encryption:</strong> Enable encryption at rest and in transit</li>
                <li><strong>Strong passwords:</strong> Use complex passwords for database</li>
                <li><strong>HTTPS/TLS:</strong> Use HTTPS for all communications</li>
                <li><strong>API validation:</strong> Validate all user input</li>
                <li><strong>Network security:</strong> Restrict firewall rules</li>
            </ul>
        </section>

        <footer>
            <hr>
            <p><strong>RegistrationApp - Complete Documentation</strong></p>
            <p>Last Updated: February 4, 2026 | Version: 1.0 | Status: âœ… Production Deployed</p>
            <p>Repository: <a href="https://github.com/BrooksCoder/RegistrationApp" target="_blank">https://github.com/BrooksCoder/RegistrationApp</a></p>
            <p>License: MIT - Open Source Project</p>
        </footer>
    </div>
</body>
</html>
